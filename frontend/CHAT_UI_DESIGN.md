# 聊天界面 UI 设计说明

## 🎨 设计概览

手机端聊天界面采用现代化的设计风格，模拟真实的移动设备聊天体验。

## 📱 界面结构

### 1. 手机状态栏
```
┌─────────────────────────────────┐
│ 9:41        📶 📡 🔋            │ ← 状态栏（深色背景）
└─────────────────────────────────┘
```

**特点**：
- 深色背景（#1F2937）
- 显示时间（9:41）
- 信号强度图标
- WiFi 图标
- 电池图标

### 2. 聊天头部
```
┌─────────────────────────────────┐
│ ← [头像] AI 助手      ⋮         │ ← 渐变色背景
│         在线                     │
└─────────────────────────────────┘
```

**特点**：
- 渐变色背景（蓝色到紫色）
- 返回按钮
- Agent 头像（圆形）
- Agent 名称
- 在线状态
- 菜单按钮

### 3. 消息区域

#### 欢迎界面（无消息时）
```
┌─────────────────────────────────┐
│                                 │
│         [大头像]                │
│                                 │
│       开始对话                  │
│   我是 AI 助手，很高兴为您服务  │
│                                 │
│   快速开始：                    │
│   ┌─────────────────────────┐  │
│   │ 问题 1                  │  │
│   └─────────────────────────┘  │
│   ┌─────────────────────────┐  │
│   │ 问题 2                  │  │
│   └─────────────────────────┘  │
│   ┌─────────────────────────┐  │
│   │ 问题 3                  │  │
│   └─────────────────────────┘  │
│                                 │
└─────────────────────────────────┘
```

#### 对话界面（有消息时）
```
┌─────────────────────────────────┐
│                                 │
│  ┌─────────────────┐            │ ← 助手消息（左侧）
│  │ 您好！有什么可以 │            │   白色背景
│  │ 帮助您的吗？     │            │
│  │           10:30 │            │
│  └─────────────────┘            │
│                                 │
│            ┌─────────────────┐  │ ← 用户消息（右侧）
│            │ 帮我查询天气     │  │   渐变色背景
│            │           10:31 │  │
│            └─────────────────┘  │
│                                 │
│  ┌─────────────────┐            │
│  │ ⚫ ⚫ ⚫          │            │ ← 打字动画
│  └─────────────────┘            │
│                                 │
└─────────────────────────────────┘
```

### 4. 输入区域
```
┌─────────────────────────────────┐
│ ➕ [输入消息...        😊] 📤   │ ← 输入框
└─────────────────────────────────┘
```

**特点**：
- 添加按钮（+）
- 圆角输入框（灰色背景）
- 表情按钮
- 发送按钮（渐变色圆形）

### 5. 底部指示器
```
┌─────────────────────────────────┐
│          ━━━━━━━                │ ← Home 指示器
└─────────────────────────────────┘
```

## 🎨 颜色方案

### 主色调
- **渐变色**：`from-blue-500 to-purple-600`
  - 用于：头部背景、用户消息气泡、发送按钮
  
### 背景色
- **页面背景**：`bg-gray-50` (#F9FAFB)
- **消息气泡（助手）**：`bg-white` (#FFFFFF)
- **消息气泡（用户）**：渐变色
- **输入框背景**：`bg-gray-100` (#F3F4F6)

### 文字颜色
- **主文字**：`text-gray-900` (#111827)
- **次要文字**：`text-gray-600` (#4B5563)
- **提示文字**：`text-gray-400` (#9CA3AF)
- **白色文字**：`text-white` (#FFFFFF)

### 边框颜色
- **分割线**：`border-gray-200` (#E5E7EB)

## 📐 尺寸规范

### 组件尺寸
- **头像（小）**：`w-10 h-10` (40px)
- **头像（大）**：`w-16 h-16` (64px)
- **图标**：`w-5 h-5` (20px)
- **按钮**：`p-2` (padding 8px)

### 间距
- **消息间距**：`space-y-4` (16px)
- **内边距（小）**：`p-2` (8px)
- **内边距（中）**：`p-3` (12px)
- **内边距（大）**：`p-4` (16px)

### 圆角
- **消息气泡**：`rounded-2xl` (16px)
- **消息气泡尾巴**：`rounded-br-sm` / `rounded-bl-sm` (2px)
- **头像**：`rounded-full` (完全圆形)
- **输入框**：`rounded-full` (完全圆形)
- **按钮**：`rounded-full` (完全圆形)
- **卡片**：`rounded-lg` (8px)

## 🎭 动画效果

### 1. 打字动画
```css
.animate-bounce {
  animation: bounce 1s infinite;
  animation-delay: 0ms, 150ms, 300ms;
}
```

三个点依次跳动，营造"正在输入"的效果。

### 2. 消息滚动
```typescript
messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
```

新消息出现时平滑滚动到底部。

### 3. 悬停效果
- **按钮**：`hover:shadow-lg` - 悬停时增加阴影
- **预设问题**：`hover:bg-blue-50` - 悬停时改变背景色
- **输入框图标**：`hover:text-gray-600` - 悬停时改变颜色

### 4. 过渡效果
```css
transition-colors  /* 颜色过渡 */
transition-shadow  /* 阴影过渡 */
transition-all     /* 所有属性过渡 */
```

## 📱 响应式设计

### 消息宽度
- **最大宽度**：`max-w-[75%]` - 消息气泡不超过屏幕 75%
- **自适应**：根据内容自动调整宽度

### 文字处理
- **换行**：`whitespace-pre-wrap` - 保留换行符
- **断词**：`break-words` - 长单词自动断行
- **截断**：`truncate` - 超长文本显示省略号

## 🎯 交互状态

### 按钮状态
```tsx
// 正常状态
className="bg-blue-500 text-white"

// 悬停状态
className="hover:bg-blue-600"

// 禁用状态
className="disabled:opacity-50 disabled:cursor-not-allowed"
```

### 输入框状态
```tsx
// 正常状态
className="border-gray-300"

// 聚焦状态
className="focus:ring-2 focus:ring-blue-500 focus:border-transparent"

// 禁用状态
className="disabled:bg-gray-100 disabled:cursor-not-allowed"
```

## 🌈 视觉层次

### Z-Index 层级
1. **底层**：页面背景
2. **内容层**：消息列表
3. **浮动层**：输入框、头部
4. **最顶层**：模态框、提示

### 阴影层次
- **轻阴影**：`shadow-sm` - 卡片、按钮
- **中阴影**：`shadow-md` - 头部
- **重阴影**：`shadow-lg` - 悬停效果
- **超重阴影**：`shadow-xl` - 模态框、嵌入式聊天

## 🎨 特殊效果

### 1. 渐变背景
```css
bg-gradient-to-r from-blue-500 to-purple-600
```
用于头部和用户消息气泡，营造现代感。

### 2. 头像占位符
```tsx
<div className="w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white text-lg font-bold">
  {name.charAt(0).toUpperCase()}
</div>
```
当没有头像时，显示首字母。

### 3. 消息气泡尾巴
```css
rounded-br-sm  /* 用户消息右下角小圆角 */
rounded-bl-sm  /* 助手消息左下角小圆角 */
```
模拟真实聊天应用的气泡效果。

## 📊 布局结构

### Flexbox 布局
```tsx
// 垂直布局
<div className="flex flex-col">
  <div>头部</div>
  <div className="flex-1">内容（自动填充）</div>
  <div>底部</div>
</div>

// 水平布局
<div className="flex items-center gap-3">
  <div>左侧</div>
  <div className="flex-1">中间（自动填充）</div>
  <div>右侧</div>
</div>
```

### Grid 布局
```tsx
// 统计卡片
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
  <Card />
  <Card />
  <Card />
  <Card />
</div>
```

## 🎪 嵌入式聊天特殊设计

### 浮动按钮
```
┌─────────────────────────────────┐
│                                 │
│                                 │
│                                 │
│                                 │
│                          ⚫ 💬  │ ← 浮动按钮
└─────────────────────────────────┘
```

**特点**：
- 圆形按钮（14x14）
- 渐变色背景
- 红点提示（新消息）
- 固定定位（四个角落可选）
- 悬停时增大阴影

### 最小化状态
```
┌─────────────────────────────────┐
│                                 │
│                                 │
│                                 │
│  ┌──────────────────────────┐  │
│  │ [头像] AI 助手      ✕    │  │ ← 最小化条
│  │        点击展开           │  │
│  └──────────────────────────┘  │
└─────────────────────────────────┘
```

## 🔍 细节优化

### 1. 文字可读性
- 使用合适的字体大小（text-sm, text-base）
- 保持足够的行高
- 使用高对比度颜色

### 2. 触摸友好
- 按钮最小尺寸 44x44px
- 足够的间距避免误触
- 清晰的点击反馈

### 3. 加载状态
- 打字动画表示 AI 正在思考
- 禁用输入框防止重复发送
- 显示加载指示器

### 4. 错误处理
- 友好的错误提示
- 重试机制
- 降级方案

## 📝 设计原则

1. **简洁**：去除不必要的元素
2. **一致**：保持统一的视觉风格
3. **直观**：符合用户习惯
4. **反馈**：及时的交互反馈
5. **美观**：现代化的视觉设计

## 🎯 可访问性

- 使用语义化 HTML
- 提供 alt 文本
- 支持键盘导航
- 保持足够的颜色对比度
- 支持屏幕阅读器

---

这套设计系统确保了聊天界面的一致性、美观性和易用性。
