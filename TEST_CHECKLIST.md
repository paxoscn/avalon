# 聊天界面测试清单

## 🎯 关键测试点（必须通过）

1. ✅ **发送消息后立即显示加载状态**
2. ✅ **内容实时逐字显示**
3. ✅ **思考过程实时显示**
4. ✅ **没有 JavaScript 错误**
5. ✅ **流式响应可以取消**

## 🚀 快速测试

```bash
# 1. 启动开发服务器
cd frontend && npm run dev

# 2. 访问聊天页面
# http://localhost:5173/agents/{agentId}/chat

# 3. 打开浏览器控制台 (F12)

# 4. 发送测试消息
# 输入: "你好，请帮我分析一下..."

# 5. 观察
# - 是否立即显示"正在思考..."
# - 是否实时显示内容
# - 控制台是否有日志
# - 是否有错误
```

## 🧪 详细测试清单

### 基础功能
- [ ] 发送消息后立即显示加载状态
- [ ] 思考过程实时显示（如果有 reasoning_content）
- [ ] 回复内容逐字显示
- [ ] 消息完成后添加到历史列表
- [ ] 可以取消正在进行的流式响应
- [ ] 可以清空聊天历史

### 流式响应
- [ ] 流开始时立即显示"正在思考..."
- [ ] reasoning_content 实时更新
- [ ] content 实时更新
- [ ] 打字机光标正常闪烁
- [ ] 思考图标正常旋转
- [ ] 自动滚动到底部

### UI 显示
- [ ] 用户消息显示为绿色渐变
- [ ] AI 消息显示为白色背景
- [ ] 思考过程显示为琥珀色渐变
- [ ] 头像显示正确的 emoji（👤 和 🤖）
- [ ] 元数据正确显示（模型、tokens）
- [ ] 欢迎消息正确显示

### 交互功能
- [ ] Enter 键发送消息
- [ ] Shift+Enter 换行
- [ ] 流式响应时输入框禁用
- [ ] 流式响应时显示 Stop 按钮
- [ ] Stop 按钮可以取消流式响应
- [ ] Clear Chat 按钮清空历史

### 动画效果
- [ ] 新消息淡入动画
- [ ] 打字机光标闪烁
- [ ] 思考图标旋转
- [ ] 滚动平滑

## 🔍 调试检查

### 浏览器控制台
- [ ] 没有 JavaScript 错误
- [ ] 看到 "Received chunk:" 日志
- [ ] 看到 "Reasoning update:" 日志（如果有）
- [ ] 看到 "Content update:" 日志
- [ ] 看到 "Message complete:" 日志

### 网络请求
- [ ] POST /api/agents/{id}/chat/stream 请求成功
- [ ] Content-Type: text/event-stream
- [ ] 看到 SSE 数据流
- [ ] 数据格式正确（data: {...}）

## 📱 响应式测试

- [ ] 桌面端 (>1024px) 布局正常
- [ ] 平板端 (768px - 1024px) 布局自适应
- [ ] 移动端 (<768px) 布局自适应

## 🌐 浏览器兼容性

- [ ] Chrome/Edge (最新版)
- [ ] Firefox (最新版)
- [ ] Safari (最新版)
- [ ] 移动浏览器

## 📊 测试结果

```
✅ 基础功能: __/6
✅ 流式响应: __/6
✅ UI 显示: __/6
✅ 交互功能: __/6
✅ 动画效果: __/4
✅ 调试检查: __/5
✅ 响应式: __/3
✅ 浏览器: __/4

总计: __/40
成功率: __%
```
